Table Movie {
  id int [pk, increment]
  title varchar [not null]
  release_year int
  genre varchar
}

Table Platform {
  id int [pk, increment]
  p_name varchar [not null, unique]
}

Table Register {
  platform_id int [not null, ref: > Platform.id]
  movie_id int [not null, ref: > Movie.id]
  available_since date

  indexes {
    (platform_id, movie_id) [pk]
  }
}

Table User {
  id int [pk, increment]
  username varchar [not null, unique]
  email varchar [not null, unique]
  password varchar [not null]
}

Table Rating {
  id int [pk, increment]
  user_id int [not null, ref: > User.id]
  movie_id int [not null, ref: > Movie.id]
  platform_id int [not null, ref: > Platform.id]
  rating int
  review text
  created_at datetime

  indexes {
    (user_id, movie_id, platform_id) [unique]
  }
}

